jQuery(document).ready(function($){$(document).on('click','.getintouch_close_link',function(){javascript:history.back();});$('.esb-get-in-touch-checkbox input[type="checkbox"]').after('<span class="check"></span>');var specialKeys=new Array();specialKeys.push(8);$(".esb-numeric").bind("keypress",function(e){var keyCode=e.which?e.which:e.keyCode
var ret=((keyCode>=48&&keyCode<=57)||specialKeys.indexOf(keyCode)!=-1);return ret;});$(".esb-numeric").bind("paste",function(e){return false;});$(".esb-numeric").bind("drop",function(e){return false;});$(document).on('click','.esb_submit_btn',function(){var error=false;var obj=$(this).parents('form');$.each(obj.find('.field-required'),function(key,value){var value=$(this).val();if(value==''||value=='undefined'){$(this).addClass('esb-ohc-error');error=true;}else if($(this).attr('type')=='email'&&esbValidEmail(value)!=true){$(this).addClass('esb-ohc-error');error=true;}else{$(this).removeClass('esb-ohc-error');}});if(error){return false;}});$(document).on('click','#news_submit, #schedule_submit, #place_order_submit',function(){var error=false;var obj=$(this).parents('form');$.each(obj.find('.field-required'),function(key,value){var value=$(this).val();if(value==''||value=='undefined'){$(this).addClass('esb-ohc-error');error=true;}else if($(this).attr('id')=='news_email'&&esbValidEmail(value)!=true){$(this).addClass('esb-ohc-error');error=true;}else if($(this).attr('id')=='schedule_email'&&esbValidEmail(value)!=true){$(this).addClass('esb-ohc-error');error=true;}else{$(this).removeClass('esb-ohc-error');}});if(error){return false;}});$(document).on('blur','.field-required',function(){var value=$(this).val();if(value==''||value=='undefined'){$(this).addClass('esb-ohc-error');}else if($(this).attr('type')=='email'&&esbValidEmail(value)!=true){$(this).addClass('esb-ohc-error');}else if($(this).attr('id')=='news_email'&&esbValidEmail(value)!=true){$(this).addClass('esb-ohc-error');}else if($(this).attr('id')=='schedule_email'&&esbValidEmail(value)!=true){$(this).addClass('esb-ohc-error');}else{$(this).removeClass('esb-ohc-error');}});$(document).on('click','.esb-other-feature-cb',function(){var $thisPackage=$(this).parents('.allpackage_tabcont');var package_id=$thisPackage.find('.esb-package-id').val();var feature_ids=[];$thisPackage.find('.esb-other-feature-cb:checked').each(function(i){feature_ids[i]=$(this).val();});$('.allpackage_tabs').css('opacity','0.3');$('.allpackage_tabcontent').css('opacity','0.3');$('.esb-package-order-loader').show();var data={'action':'modify_order','packageid':package_id,'featureids':feature_ids};jQuery.post(EsbPublic.ajaxurl,data,function(response){if(response){$thisPackage.find('.order_link a span.price').html(response);}
$('.allpackage_tabs').css('opacity','1');$('.allpackage_tabcontent').css('opacity','1');$('.esb-package-order-loader').hide();});});$(document).on('click','.order_link a.esb-order-link',function(){var package_name=$('.allpackage_tabs li.active').find('h4').html();var package_price=$(this).find('.price').html();var $thisPackage=$(this).parents('.allpackage_tabcont');var package_id=$thisPackage.find('.esb-package-id').val();var feature_content_li='';$thisPackage.find('.esb-other-feature-cb:checked').each(function(i){feature_content_li+='<li>'+$(this).parents('.packagecheckbox').find('.esb-other-feature-title').html()+'</li>';});var feature_content='';if(feature_content_li!=''&&feature_content_li!=undefined){feature_content+='<h3 class="lighttext clear mgbot20 red_color">Other Features</h3>';feature_content+='<ul class="list_style">';feature_content+=feature_content_li;feature_content+='</ul>';}
$('.esb-package-name').html(package_name);$('.esb-package-price .price').html(package_price);$('.esb-other-feature-popup').html(feature_content);$('.package_order_form').css('opacity','1').show();});$(document).on('click','#esb_chat_btn',function(){$('#sc_chat_box').css('bottom','0');return false;});});function esbValidEmail(emailStr){var checkTLD=1;var knownDomsPat=/^(com|net|org|edu|int|mil|gov|arpa|biz|aero|name|coop|info|pro|museum)$/;var emailPat=/^(.+)@(.+)$/;var specialChars="\\(\\)><@,;:\\\\\\\"\\.\\[\\]";var validChars="\[^\\s"+specialChars+"\]";var quotedUser="(\"[^\"]*\")";var ipDomainPat=/^\[(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})\]$/;var atom=validChars+'+';var word="("+atom+"|"+quotedUser+")";var userPat=new RegExp("^"+word+"(\\."+word+")*$");var domainPat=new RegExp("^"+atom+"(\\."+atom+")*$");var matchArray=emailStr.match(emailPat);if(matchArray==null){return false;}
var user=matchArray[1];var domain=matchArray[2];for(i=0;i<user.length;i++){if(user.charCodeAt(i)>127){return false;}}
for(i=0;i<domain.length;i++){if(domain.charCodeAt(i)>127){return false;}}
if(user.match(userPat)==null){return false;}
var IPArray=domain.match(ipDomainPat);if(IPArray!=null){for(var i=1;i<=4;i++){if(IPArray[i]>255){alert("Destination IP address is invalid!");return false;}}
return true;}
var atomPat=new RegExp("^"+atom+"$");var domArr=domain.split(".");var len=domArr.length;for(i=0;i<len;i++){if(domArr[i].search(atomPat)==-1){return false;}}
if(checkTLD&&domArr[domArr.length-1].length!=2&&domArr[domArr.length-1].search(knownDomsPat)==-1){return false;}
if(len<2){return false;}
return true;}